<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Francine Graham - County Health Rankings Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../img/logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Francine Graham</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../experience/index.html"> 
<span class="menu-text">Experience and Education</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../dashboard/dashboard.html"> 
<span class="menu-text">Dashboard</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../dashboard/blog.html" aria-current="page"> 
<span class="menu-text">blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../cv/index.html"> 
<span class="menu-text">CV</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:afg34@case.edu"> <i class="bi bi-envelope" role="img" aria-label="CWRU email">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">County Health Rankings Blog</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="{Blog}">

</div>
<section id="dashboard-main-page" class="level1">
<h1>Dashboard Main Page</h1>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">Setup</h2>
<p>In order to perform analyses related to the voting impact of counties and states, I set up a variable “votes”, which was calculated using the population of the county multiplied by the percent voter turnout for the county. This is an imperfect estimate of the actual number of votes, as it does not exclude ineligible populations, such as those under 18 or those incarcerated, however it should still roughly demonstrate the trends I hope to analyze of relative voting impact by gender and ruralness, so I am moving forward with this while acknowledging imperfect representation.</p>
<p>I set up bins for counties to fall into based on the percent of their population that is rural, so as to indicate which counties are dominated by cities within the county, which counties have a substantial mix of rural and urban populations, and which counties are primarily rural. I also set up bins based on the majority gender of the county, so that I could draw comparisons between these two groups. I additionally set up a bin for county size based on population which I ended up not using due to its similarity to the urban/rural binning. I also set up different data sets for each state in my analysis in this section. I chose the states for this analysis so that they would all be Midwest states with a border of one of the Great Lakes. The rationale for this was that they should all be relatively culturally similar to Ohio, where Case Western is located.</p>
</section>
<section id="valueboxes-top-row" class="level2">
<h2 class="anchored" data-anchor-id="valueboxes-top-row">Valueboxes (Top Row)</h2>
<p>The valueboxes along the top of the dashboard are the same across each state as well as the overview. For each page, they indicate the total population considered, percent of the population who voted, percent of the population who were rural voters, and percent of the population who were female voters for the corresponding region or state. The population was included to indicate the number of people included in the counties for that region. Voter turnout was determined by using the weight of each county’s population multiplied by the voter turnout for the county, then divided by the population for the region. Rural and Female Voter Turnout was determined by multiplying the population of each county by its voter turnout and then by the percent of the population that is rural or female respectively, then dividing by total population. This is roughly an indicator of how much of an impact these two demographics have on the region, but it is not a perfect analysis, as it does not account for the population who is not eligible to vote, which is why these are labeled as estimates.</p>
</section>
<section id="state-turnouts" class="level2">
<h2 class="anchored" data-anchor-id="state-turnouts">State Turnouts</h2>
<p>This is an overview of the voting statistics for each state, where each state’s voter turnout is shown alongside the relative proportion of votes that state has in the region. In this way, a rough estimate of the voting impact of each state can be determined. This can be applicable to understanding the relative impact of each state on voting for the region. The data indicates that Illinois, Ohio, and Michigan have a substantially greater impact on voting than Indiana, Minnesota, and Wisconsin, even in spite of lower turnout in Illinois and Ohio than Minnesota and Wisconsin.</p>
</section>
<section id="proportion-of-votes-by-county-ruralness" class="level2">
<h2 class="anchored" data-anchor-id="proportion-of-votes-by-county-ruralness">Proportion of Votes by County Ruralness</h2>
<p>This section was determined using the sum of the the votes, calculated as voter turnout multiplied by county population, for each “bin” of county ruralness. Urban counties were defined as those with less than 20% of the population being rural and rural counties were defined as those with more than 90% of their population being rural. Mixed counties were those with a value between these two, indicating a substantial urban and rural population. As the data indicates, a substantial majority of voters live in urban counties. It can also be determined that relatively few votes come from rural counties.</p>
</section>
<section id="voter-turnout-by-county-ruralness" class="level2">
<h2 class="anchored" data-anchor-id="voter-turnout-by-county-ruralness">Voter Turnout by County Ruralness</h2>
<p>This analysis was performed to determine whether there is a significant difference in voter turnout based on county ruralness. It was determined that there was no significant difference in voter turnout between rural and urban counties, which was interesting considering the vast difference in number of votes from each county. However, counties with a mix of urban and rural residents had a significantly lower voter turnout than both rural and urban counties. This analysis was also performed for each state to determine if the general trend holds.</p>
</section>
<section id="state-voting-by-ruralness" class="level2">
<h2 class="anchored" data-anchor-id="state-voting-by-ruralness">State Voting by Ruralness</h2>
<p>This graph shows the trend of votes by percent rural population. It seems to demonstrate a trend of decreasing number of votes with higher proportion of the county population living rurally. A log10 adjustment was made to the number of votes so as to linearize the trend and not have the scale be compressed due to counties with extremely high populations. Data are color-coded so as to indicate trends and outliers by state.</p>
</section>
<section id="state-voting-by-gender" class="level2">
<h2 class="anchored" data-anchor-id="state-voting-by-gender">State Voting by Gender</h2>
<p>This graph shows the trend of votes by percent female population. It seems to demonstrate a trend of increasing number of votes with higher proportion of the county population being female. A log10 adjustment was made to the number of votes so as to linearize the trend and not have the scale be compressed due to counties with extremely high populations. This trend skews greatly at extreme low values for percent female population, due to few counties with below 40% female population. Data are color-coded so as to indicate trends and outliers by state.</p>
</section>
<section id="voter-turnout-by-state" class="level2">
<h2 class="anchored" data-anchor-id="voter-turnout-by-state">Voter Turnout by State</h2>
<p>For this analysis, I wanted to determine whether there was a significant difference in voter turnout for each state. Using an ANOVA, I was able to find that for the majority of state comparisons, there was a significant difference in voter turnout. Two comparisons: IL and OH, and MI and WI were not significantly different, and are excluded from the figure. This suggests greater similarity in voter turnout between the counties in these states.</p>
</section>
</section>
<section id="breakdown-by-state" class="level1">
<h1>Breakdown by State</h1>
<p>I then separated the regions into each state. I kept the analyses for the valueboxes along the top consistent to the overview, just using data for each state instead of overall. The breakdown was utilized as an opportunity to compare values with more depth and determine whether the comparisons found across states hold up when analyzed by state.</p>
<section id="voter-turnout-by-county-ruralness-1" class="level2">
<h2 class="anchored" data-anchor-id="voter-turnout-by-county-ruralness-1">Voter Turnout by County Ruralness</h2>
<p>Voter turnout by county ruralness was kept consistent to the overview, to determine if the trend across the region was the same for each state. Interestingly, while the comparisons were similar to the region at large for Illinois, all other states varied from the overview’s differences between ruralness categories. Notably Wisconsin, Michigan, and Indiana had no significant differences between any of the categories, indicating that the voter turnout was likely not dependent on county ruralness for these states. While for most of the states as well as the overview the difference in voter turnout between rural and urban counties was not significant, in Ohio it was the only difference that was significant. Finally, in Minnesota, there was a significant (p&lt;0.005) increase in voter turnout in urban counties relative to rural and mixed counties.</p>
</section>
<section id="voter-turnout-by-gender" class="level2">
<h2 class="anchored" data-anchor-id="voter-turnout-by-gender">Voter Turnout by Gender</h2>
<p>I also wanted to determine if there was a statistical difference in voter turnout of counties based on the majority gender of the county. This analysis was not performed at the regional level because it may be influenced by other factors. At the state level, voter turnout by gender was not significant in any analysis. This indicates that there is no significant difference in voter turnout based on the female population of a given county. This may however be limited by the fact that percent female population of a county has a relatively low spread and is generally left-skewed.</p>
</section>
<section id="gender-and-county-population" class="level2">
<h2 class="anchored" data-anchor-id="gender-and-county-population">Gender and County Population</h2>
<p>Due to aforementioned reasons for number of votes, county population was scaled with a log10 transformation to linearize and compress the graph. There seems to be a general trend of increasing population with increasing percent female population across all states. This trend is much tighter for counties with a percent female population of roughly 50%, which is where most counties lie. However, since there is a left skew in the data, there are some outliers, which still seem to follow the trend. This seems to follow the “State Voting by Gender” trend shown in the overview, which makes sense, as the number of votes for the county is highly correlated with the county population.</p>
</section>
<section id="gender-and-county-ruralness" class="level2">
<h2 class="anchored" data-anchor-id="gender-and-county-ruralness">Gender and County Ruralness</h2>
<p>This trend is definitely less apparent, but there appears to be an inverse correlation between percent female population and percent rural population. This could account for trends in percent female population without considering the percent rural population.</p>
</section>
<section id="county-ruralness-and-population" class="level2">
<h2 class="anchored" data-anchor-id="county-ruralness-and-population">County Ruralness and Population</h2>
<p>Due to aforementioned reasons for number of votes, county population was scaled with a log10 transformation to linearize and compress the graph. There is a very tight inverse correlation between rural population percent and county population. This seems to follow the “State Voting by Ruralness” trend, as well as the “Proportion of Votes by County Ruralness” section shown in the overview, which makes sense as the number of votes for the county is highly correlated with the county population.</p>
</section>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<p>A data table of the raw data used for the analysis is provided for display transparency. This is provided for each state analysis as well as for the dashboard as a whole.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><span class="faux-block">© 2023 Marvin Schmitt CC BY-SA 4.0</span></p>
</div>   
    <div class="nav-footer-center">
<p><span class="faux-block"><a href="https://www.marvinschmitt.com/blog/website-tutorial-quarto/">View the tutorial for this template!</a></span></p>
</div>
    <div class="nav-footer-right">
<p><span class="faux-block"><a href="https://github.com/marvinschmitt/quarto-website-template/">View source on GitHub</a></span></p>
</div>
  </div>
</footer>




</body></html>